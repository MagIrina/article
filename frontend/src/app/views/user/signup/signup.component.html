<section class="signup" [formGroup]="signupForm">
  <div class="container">
    <div class="auth-form">
      <div class="auth-title">
        –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ
      </div>
      <div class="auth-inputs">
        <div class="auth-input">
          <input type="text" class="input"
                 placeholder="–í–∞—à–µ –ò–º—è"
                 formControlName="name"
                 [ngStyle]="{'border-color': name?.invalid && (name?.dirty || name?.touched) ? 'red' : ''}">
          <div *ngIf="name?.invalid && (name?.dirty || name?.touched)" class="field-error">
            <div *ngIf="name?.errors?.['required']">–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ</div>
            <div *ngIf="name?.errors?.['pattern']">–ò–º—è: —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã, –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã</div>
          </div>
        </div>

        <div class="auth-input">
          <input type="email" class="input"
                 placeholder="–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞"
                 formControlName="email"
                 [ngStyle]="{'border-color': email?.invalid && (email?.dirty || email?.touched) ? 'red' : ''}">
          <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="field-error">
            <div *ngIf="email?.errors?.['required']">Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω</div>
            <div *ngIf="email?.errors?.['email']">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email</div>
          </div>
        </div>

        <div class="auth-input">
          <div class="password-wrapper" style="position:relative;">
            <input [type]="showPassword ? 'text' : 'password'"
                   class="input"
                   placeholder="–ü–∞—Ä–æ–ª—å"
                   formControlName="password"
                   [ngStyle]="{'border-color': password?.invalid && (password?.dirty || password?.touched) ? 'red' : ''}">
            <button type="button"
                    class="toggle-pass"
                    (click)="togglePasswordVisibility()"
                    style="position:absolute; right:8px; top:50%; transform:translateY(-50%); background:transparent; font-size: 1.5em; border:none; cursor:pointer;">
              {{ showPassword ? 'üëÄ' : 'üîí' }}
            </button>
          </div>
          <div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="field-error">
            <div *ngIf="password?.errors?.['required']">–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω</div>
            <div *ngIf="password?.errors?.['minlength']">–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 8 —Å–∏–º–≤–æ–ª–æ–≤</div>
            <div *ngIf="password?.errors?.['pattern']">–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 1 –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É –∏ 1 —Ü–∏—Ñ—Ä—É</div>
          </div>
        </div>

        <div class="auth-checkbox">
          <input type="checkbox" id="agree" formControlName="agree">
          <label for="agree">
            –Ø –ø—Ä–∏–Ω–∏–º–∞—é <a href="/policy#user-agreement" target="_blank" rel="noopener">—É—Å–ª–æ–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è</a>
            –∏ –¥–∞—é <a href="/policy#personal-data" target="_blank" rel="noopener">—Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a>.
          </label>
          <div *ngIf="agree?.invalid && (agree?.dirty || agree?.touched)" class="field-error">
            –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è
          </div>
        </div>
      </div>

      <div class="auth-button">
        <button class="button" [disabled]="signupForm.invalid || submitting" (click)="submit()">
          {{ submitting ? '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...' : '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è' }}
        </button>
      </div>
      <div class="auth-link">
        –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a routerLink="/login">–í–æ–π–¥–∏—Ç–µ</a>
      </div>
    </div>

    <div class="page-image">
      <img src="/assets/images/page/signup.png" alt="image-signup">
    </div>
  </div>
</section>
